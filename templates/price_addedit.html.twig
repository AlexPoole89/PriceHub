{% extends "master.html.twig" %}

{% block overlayTitle %}{% if isEditing %}Update{% else %}Add{% endif %}Price{% endblock %}
{% block headextra %}
    <script>
        window.onload = function () {
            var startPos;
            var geoSuccess = function (position) {
                startPos = position;
                document.getElementById('lat').value = startPos.coords.latitude;
                document.getElementById('long').value = startPos.coords.longitude;
            };
            navigator.geolocation.getCurrentPosition(geoSuccess);
        };
    </script>
{% endblock %}
{% block content %}

    <div class="content-block"></div>
    
    <form method="post">
        <input type="hidden" name="lat" id="lat" value="">
        <input type="hidden" name="long" id="long" value="">
        <div class="list-block">
            <br>
            <ul>
                <!-- Text inputs -->

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div>
                                <button class="button button-big button-fill external">Barcode Scan</button>
                            </div>
                        </div>
                </li>

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div class="item-title label">Store</div>
                            <div class="item-input">
                                <input type="text" placeholder="Store" name="store" value="{{v.store}}">
                            </div>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div class="item-title label">Product</div>
                            <div class="item-input">
                                <input type="text" placeholder="Product name" name="product" value="{{v.product}}">
                            </div>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div class="item-title label">Price</div>
                            <div class="item-input">
                                <input type="number" step="0.01" placeholder="0.00" name="price" value="{{v.price}}">
                            </div>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div class="item-title label">On Special</div>
                            <div class="item-input">
                                <label class="label-switch">
                                    <input type="checkbox" name="onSpecial" {% if v.onSpecial == 1 %} checked {% endif %}>
                                    <div class="checkbox"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="item-content">
                        <div class="item-inner">
                            <div class="item-title label">Unit</div>
                            <div class="item-input">
                                <select name="unit">
                                    <option {%if v.unit == "unit"%} selected {%endif%} value="unit">unit</option>
                                    <option value="g">g(grams)</option>
                                    <option value="kg">kg(kilograms)</option>
                                    <option  value="ml">ml(mililiters)</option>
                                    <option  value="l">l(liters)</option> 
                                </select>
                            </div>
                        </div>
                    </div>
                </li>

                <li>

                    <div class="item-content">
                        <div class="item-inner">
                            <input type="submit" value="{% if isEditing %}Update{% else %}Add{% endif %} Price" class="button button-fill button-big color-blue"/>
                        </div>
                    </div>
                </li>
                <li>

                    <div class="item-content">
                        <div class="item-inner">
                            <a href="/price/list" class="external">Go Back</a>
                        </div>
                    </div>
                </li>
            </ul>

    </form>
    {% if errorList %}
        <br>
        <div class="item-content">
            <ul>
                {% for error in errorList %}

                    <li>{{error}}</li>
                    {% endfor %}

            </ul>
        {% endif %}
    </div>
</div>



{% endblock %}

